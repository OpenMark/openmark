<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_26) on Tue Mar 20 16:16:52 GMT 2012 -->
<TITLE>
ErrorManagement
</TITLE>

<META NAME="date" CONTENT="2012-03-20">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ErrorManagement";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../util/misc/DynamicQuestionUtils.html" title="class in util.misc"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../util/misc/ErrorMessageParts.html" title="class in util.misc"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?util/misc/ErrorManagement.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ErrorManagement.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
util.misc</FONT>
<BR>
Class ErrorManagement</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>util.misc.ErrorManagement</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../util/misc/GracefulFinalization.html" title="interface in util.misc">GracefulFinalization</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ErrorManagement</B><DT>extends java.lang.Object<DT>implements <A HREF="../../util/misc/GracefulFinalization.html" title="interface in util.misc">GracefulFinalization</A></DL>
</PRE>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#ADMINISTRATION_ERROR_TEMPLATE">ADMINISTRATION_ERROR_TEMPLATE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#ERROR_TEMPLATE">ERROR_TEMPLATE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#ERROR_TEMPLATE_TXT">ERROR_TEMPLATE_TXT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../om/Log.html" title="class in om">Log</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#log">log</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#ErrorManagement(om.tnavigator.NavigatorConfig, om.Log)">ErrorManagement</A></B>(<A HREF="../../om/tnavigator/NavigatorConfig.html" title="class in om.tnavigator">NavigatorConfig</A>&nbsp;navigatorConfig,
                <A HREF="../../om/Log.html" title="class in om">Log</A>&nbsp;rootLog)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../util/misc/FinalizedResponse.html" title="interface in util.misc">FinalizedResponse</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#close(java.lang.Object)">close</A></B>(java.lang.Object&nbsp;o)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Simple template for the closing of resources within given implementations
  this method should then be invoked before disposal of the implementor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#sendAdminAlert(java.lang.String, java.lang.Throwable)">sendAdminAlert</A></B>(java.lang.String&nbsp;sMessage,
               java.lang.Throwable&nbsp;tException)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends an admin alert message by email.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#sendAdminAlertNow()">sendAdminAlertNow</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends the actual email</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#sendErrorForUserSession(om.tnavigator.UserSession, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, int, boolean, java.lang.String, util.misc.OMVisitor, util.misc.ErrorMessageParts)">sendErrorForUserSession</A></B>(<A HREF="../../om/tnavigator/UserSession.html" title="class in om.tnavigator">UserSession</A>&nbsp;us,
                        javax.servlet.http.HttpServletRequest&nbsp;request,
                        javax.servlet.http.HttpServletResponse&nbsp;response,
                        int&nbsp;code,
                        boolean&nbsp;isBug,
                        java.lang.String&nbsp;backToTest,
                        <A HREF="../../util/misc/OMVisitor.html" title="class in util.misc">OMVisitor</A>&nbsp;visitor,
                        <A HREF="../../util/misc/ErrorMessageParts.html" title="class in util.misc">ErrorMessageParts</A>&nbsp;emp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends an error to the student, logs it, and kills their session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#sendErrorMessage(javax.servlet.http.HttpServletRequest, boolean, java.util.Map, javax.servlet.ServletContext, java.lang.Throwable, java.lang.String)">sendErrorMessage</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request,
                 boolean&nbsp;isBug,
                 java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;m,
                 javax.servlet.ServletContext&nbsp;context,
                 java.lang.Throwable&nbsp;exception,
                 java.lang.String&nbsp;templateLocation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Legacy -> deals with sending the message via email if it is a bug or
  otherwise writes the message to the log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../util/misc/ErrorManagement.html#sendErrorResponse(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, util.misc.OMVisitor, util.misc.ErrorMessageParts, java.util.Map)">sendErrorResponse</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request,
                  javax.servlet.http.HttpServletResponse&nbsp;response,
                  <A HREF="../../util/misc/OMVisitor.html" title="class in util.misc">OMVisitor</A>&nbsp;visitor,
                  <A HREF="../../util/misc/ErrorMessageParts.html" title="class in util.misc">ErrorMessageParts</A>&nbsp;emp,
                  java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;replacements)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For handling errors that arise within the Administration area.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ERROR_TEMPLATE"><!-- --></A><H3>
ERROR_TEMPLATE</H3>
<PRE>
public static java.lang.String <B>ERROR_TEMPLATE</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ERROR_TEMPLATE_TXT"><!-- --></A><H3>
ERROR_TEMPLATE_TXT</H3>
<PRE>
public static java.lang.String <B>ERROR_TEMPLATE_TXT</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ADMINISTRATION_ERROR_TEMPLATE"><!-- --></A><H3>
ADMINISTRATION_ERROR_TEMPLATE</H3>
<PRE>
public static java.lang.String <B>ADMINISTRATION_ERROR_TEMPLATE</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="log"><!-- --></A><H3>
log</H3>
<PRE>
protected <A HREF="../../om/Log.html" title="class in om">Log</A> <B>log</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ErrorManagement(om.tnavigator.NavigatorConfig, om.Log)"><!-- --></A><H3>
ErrorManagement</H3>
<PRE>
public <B>ErrorManagement</B>(<A HREF="../../om/tnavigator/NavigatorConfig.html" title="class in om.tnavigator">NavigatorConfig</A>&nbsp;navigatorConfig,
                       <A HREF="../../om/Log.html" title="class in om">Log</A>&nbsp;rootLog)
                throws <A HREF="../../util/misc/UtilityException.html" title="class in util.misc">UtilityException</A></PRE>
<DL>
<DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../util/misc/UtilityException.html" title="class in util.misc">UtilityException</A></CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="sendErrorResponse(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, util.misc.OMVisitor, util.misc.ErrorMessageParts, java.util.Map)"><!-- --></A><H3>
sendErrorResponse</H3>
<PRE>
public void <B>sendErrorResponse</B>(javax.servlet.http.HttpServletRequest&nbsp;request,
                              javax.servlet.http.HttpServletResponse&nbsp;response,
                              <A HREF="../../util/misc/OMVisitor.html" title="class in util.misc">OMVisitor</A>&nbsp;visitor,
                              <A HREF="../../util/misc/ErrorMessageParts.html" title="class in util.misc">ErrorMessageParts</A>&nbsp;emp,
                              java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;replacements)
                       throws <A HREF="../../om/OmException.html" title="class in om">OmException</A>,
                              java.io.IOException</PRE>
<DL>
<DD>For handling errors that arise within the Administration area.  Uses the
  template provided in the  in order to render a response.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - <DD><CODE>response</CODE> - <DD><CODE>visitor</CODE> - <DD><CODE>emp</CODE> - <DD><CODE>replacements</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>OMException</CODE>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE><A HREF="../../om/OmException.html" title="class in om">OmException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendAdminAlert(java.lang.String, java.lang.Throwable)"><!-- --></A><H3>
sendAdminAlert</H3>
<PRE>
public void <B>sendAdminAlert</B>(java.lang.String&nbsp;sMessage,
                           java.lang.Throwable&nbsp;tException)</PRE>
<DL>
<DD>Sends an admin alert message by email. Messages are automatically queued
 so it doesn't send more than one per ADMINALERTDELAY. Time is
 automatically recorded.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sMessage</CODE> - Message text; will be included in one line after the date. Can
            include a multi-line message with \n if necessary<DD><CODE>tException</CODE> - Exception to trace (optional, null if none)</DL>
</DD>
</DL>
<HR>

<A NAME="sendAdminAlertNow()"><!-- --></A><H3>
sendAdminAlertNow</H3>
<PRE>
public void <B>sendAdminAlertNow</B>()</PRE>
<DL>
<DD>Sends the actual email
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="close(java.lang.Object)"><!-- --></A><H3>
close</H3>
<PRE>
public <A HREF="../../util/misc/FinalizedResponse.html" title="interface in util.misc">FinalizedResponse</A> <B>close</B>(java.lang.Object&nbsp;o)
                        throws <A HREF="../../util/misc/UtilityException.html" title="class in util.misc">UtilityException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../util/misc/GracefulFinalization.html#close(java.lang.Object)">GracefulFinalization</A></CODE></B></DD>
<DD>Simple template for the closing of resources within given implementations
  this method should then be invoked before disposal of the implementor.
 Where waiting for the finalize method on an implementor is either not
  sufficient or valid / appropriate. Ensure to invoke the implementation
  at teh appropriate point also !
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../util/misc/GracefulFinalization.html#close(java.lang.Object)">close</A></CODE> in interface <CODE><A HREF="../../util/misc/GracefulFinalization.html" title="interface in util.misc">GracefulFinalization</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../util/misc/UtilityException.html" title="class in util.misc">UtilityException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendErrorForUserSession(om.tnavigator.UserSession, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, int, boolean, java.lang.String, util.misc.OMVisitor, util.misc.ErrorMessageParts)"><!-- --></A><H3>
sendErrorForUserSession</H3>
<PRE>
public void <B>sendErrorForUserSession</B>(<A HREF="../../om/tnavigator/UserSession.html" title="class in om.tnavigator">UserSession</A>&nbsp;us,
                                    javax.servlet.http.HttpServletRequest&nbsp;request,
                                    javax.servlet.http.HttpServletResponse&nbsp;response,
                                    int&nbsp;code,
                                    boolean&nbsp;isBug,
                                    java.lang.String&nbsp;backToTest,
                                    <A HREF="../../util/misc/OMVisitor.html" title="class in util.misc">OMVisitor</A>&nbsp;visitor,
                                    <A HREF="../../util/misc/ErrorMessageParts.html" title="class in util.misc">ErrorMessageParts</A>&nbsp;emp)
                             throws <A HREF="../../util/misc/StopException.html" title="class in util.misc">StopException</A></PRE>
<DL>
<DD>Sends an error to the student, logs it, and kills their session. Does not
 return but throws a StopException in order to abort further processing.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>us</CODE> - Session to be killed (null if we should keep it)<DD><CODE>request</CODE> - HTTP request<DD><CODE>response</CODE> - HTTP response<DD><CODE>code</CODE> - Desired HTTP status code;
            HttpServletResponse.SC_INTERNAL_SERVER_ERROR is treated
            differently in that these are logged as errors, not warnings<DD><CODE>isBug</CODE> - Set true if this is a bug and should be logged as such,
            complete with the option for users to re-enter test. Generally
            I have erred on the side of setting this true...<DD><CODE>keepSession</CODE> - normally, this should be false, and OM will throw away the
            user's session in case it was corrupted in a way that caused
            the error. Then on the next request it will silently give them
            a new session. But very occasionally we don't want this
            behaviour in which case this parameter can be set to true.<DD><CODE>backToTest</CODE> - If set to test ID (not null), this forces the back-to-test
            option to appear.<DD><CODE>title</CODE> - Title of message<DD><CODE>message</CODE> - Actual message<DD><CODE>exception</CODE> - Any exception that should be reported (null if none)
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../util/misc/StopException.html" title="class in util.misc">StopException</A></CODE> - Always, to abort processing</DL>
</DD>
</DL>
<HR>

<A NAME="sendErrorMessage(javax.servlet.http.HttpServletRequest, boolean, java.util.Map, javax.servlet.ServletContext, java.lang.Throwable, java.lang.String)"><!-- --></A><H3>
sendErrorMessage</H3>
<PRE>
public void <B>sendErrorMessage</B>(javax.servlet.http.HttpServletRequest&nbsp;request,
                             boolean&nbsp;isBug,
                             java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;m,
                             javax.servlet.ServletContext&nbsp;context,
                             java.lang.Throwable&nbsp;exception,
                             java.lang.String&nbsp;templateLocation)</PRE>
<DL>
<DD>Legacy -> deals with sending the message via email if it is a bug or
  otherwise writes the message to the log.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - <DD><CODE>isBug</CODE> - <DD><CODE>m</CODE> - <DD><CODE>context</CODE> - <DD><CODE>exception</CODE> - <DD><CODE>templateLocation</CODE> - </DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../util/misc/DynamicQuestionUtils.html" title="class in util.misc"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../util/misc/ErrorMessageParts.html" title="class in util.misc"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?util/misc/ErrorManagement.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ErrorManagement.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
