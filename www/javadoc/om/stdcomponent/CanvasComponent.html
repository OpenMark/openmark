<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_01) on Wed Aug 08 10:24:46 BST 2007 -->
<TITLE>
CanvasComponent
</TITLE>

<META NAME="date" CONTENT="2007-08-08">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CanvasComponent";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../om/stdcomponent/ButtonComponent.html" title="class in om.stdcomponent"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../om/stdcomponent/CentreComponent.html" title="class in om.stdcomponent"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?om/stdcomponent/CanvasComponent.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CanvasComponent.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_om.stdquestion.QComponent">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
om.stdcomponent</FONT>
<BR>
Class CanvasComponent</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">om.stdquestion.QComponent</A>
      <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>om.stdcomponent.CanvasComponent</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../om/graph/World.Context.html" title="interface in om.graph">World.Context</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>CanvasComponent</B><DT>extends <A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">QComponent</A><DT>implements <A HREF="../../om/graph/World.Context.html" title="interface in om.graph">World.Context</A></DL>
</PRE>

<P>
Represents a Java BufferedImage so that you can draw graphics from Java code.
Also includes graph support, but you're perfectly well able to use it for
drawing your own graphics too.
<h2>XML usage</h2>
<pre>&lt;canvas alt="Fancy graph" width="200" height="200"&gt;
 &lt;world id='w1' px='10' py='10' pw='180' ph='180'
   xleft='-1.0' xright='1.0' ytop='1.0' ybottom='-1.0'&gt;
  &lt;xAxis ticks='0.2,0.1' numbers='0.5' omitNumbers='0.0' tickSide='both'/&gt;
  &lt;yAxis ticks='0.2,0.1' numbers='0.5' omitNumbers='0.0' tickSide='both'/&gt;
 &lt;/world&gt;
 &lt;marker x='10' y='10'/&gt;
 &lt;marker x='30' y='10' labelJS='label=x+","+y;' world='w1'/&gt;
 &lt;markerline from='0' to='1' labelJS='label=x1+','+y1;' world='w1'/&gt;
&lt;/canvas&gt;
<h2>Properties</h2>
<table border="1">
<tr><th>Property</th><th>Values</th><th>Effect</th></tr>
<tr><td>id</td><td>(string)</td><td>Specifies unique ID</td></tr>
<tr><td>display</td><td>(boolean)</td><td>Includes in/removes from
output</td></tr>
<tr><td>enabled</td><td>(boolean)</td><td>Activates/deactivates interactive
features</td></tr>
<tr><td>alt</td><td>(string)</td><td>Alternative text for those who can't read
the bitmap</td></tr>
<tr><td>width</td><td>(int)</td><td>Width in pixels</td></tr>
<tr><td>height</td><td>(int)</td><td>Height in pixels</td></tr>
<tr><td>type</td><td>png / jpg</td><td>Compression format used for output
(JPG for photos, otherwise PNG)</td></tr>
<tr><td>antialias</td><td>(boolean)</td><td>Whether to anti-alias text and
graphics (default true)</td></tr>
<tr><td>filePath</td><td>(string)</td><td>Optional path to image file
(relative to class) to initialise canvas with</td></tr>
<tr><td>requirebg</td><td>(boolean)</td><td>If true, includes background image
even if question is being viewed in 'fixed colour' mode; otherwise does not.
Setting requirebg='yes' also makes any graph use normal colours even if the
question is in fixed-colour accessibility mode; be aware that this option
is bad for accessibility.
</td></tr>
<tr><td>markerimage</td><td>(string)</td><td>If specified, use a custom marker image
instead of the standard cross-hairs.
If you specify markerimage="arrow", you must supply images arrow15.gif, arrow23.gif,
arrow31.gif, arrow15d.gif, arrow23d.gif, arrow31d.gif. These must be square images
with size 15, 23 and 31 pixels respectively. The 'd' images are for the disabled state.
</td></tr>
<tr><td>markerhotspot</td><td>(string)</td><td>Specify the position of the
marker hotspot within the image, in the form x,y|x,y|x,y, for the three sizes.
If you omit this, the hotspot is in the centre of the image, that is 8,8|11,11|15,15.
</td></tr>
</table>
<h2>Contents</h2>
<h3>Graphs</h3>
<p>
You can include any number of &lt;world&gt; elements. See the <A HREF="../../om/graph/package-summary.html"><CODE>om.graph</CODE></A>
package for more information. These are painted in the order you include them;
they are painted automatically the first time it's sent, but if you make other
changes to the graphs you'll need to use the manual repaint() method.
</p>
<h3>Interactive features</h3>
<p>
You can have any number of &lt;marker&gt; elements. These are crosshairs that
the user can drag around on the canvas. They can be dragged anywhere on the
canvas (but not off it). The X/Y positions of the marker centre can be obtained
in code. Marker positions are always in pixel co-ordinates, at the moment,
and not world co-ordinates.
</p>
<p>
If you've got at least 2 markers you can also have &lt;markerline&gt; elements.
Specify a 'from' and 'to' marker and it'll draw a line between the two markers
(the user moves the two markers as usual by dragging each one).
</p>
<p>
You can add a label to the centre of the line by specifying
'labelJS' which contains JavaScript statements that should set a 'label' variable based
on the x1, y1, x2, and y2 variables (see XML usage example above). JavaScript is not
exactly like Java so be careful if you don't know it. If you make JavaScript
errors in the attribute, they will carry through as JS errors at runtime.
</p>
<p>
x1,y1,x2, and y2 are in pixel co-ordinates unless you specify
a 'world' attribute. Then they are in world co-ordinates.
</p>
<p>
Labels on markers appear above and right of the marker. They are set in the
same way, but for obvious reasons you have x,y instead of x1,y1,x2,y2.
<p>
(All mentions of pixel co-ordinates above are supposed to relate to 'original-size'
pixels, i.e. if accessibility zoom is turned on, the same numbers should work
as if it wasn't.)
</p>
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_om.stdquestion.QComponent"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class om.stdquestion.<A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">QComponent</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../om/stdquestion/QComponent.html#COLOURCONSTANTS_REGEXP">COLOURCONSTANTS_REGEXP</A>, <A HREF="../../om/stdquestion/QComponent.html#GENERATEDID_PREFIX">GENERATEDID_PREFIX</A>, <A HREF="../../om/stdquestion/QComponent.html#PROPERTY_DISPLAY">PROPERTY_DISPLAY</A>, <A HREF="../../om/stdquestion/QComponent.html#PROPERTY_ENABLED">PROPERTY_ENABLED</A>, <A HREF="../../om/stdquestion/QComponent.html#PROPERTY_FORCEHEIGHT">PROPERTY_FORCEHEIGHT</A>, <A HREF="../../om/stdquestion/QComponent.html#PROPERTY_FORCEWIDTH">PROPERTY_FORCEWIDTH</A>, <A HREF="../../om/stdquestion/QComponent.html#PROPERTY_ID">PROPERTY_ID</A>, <A HREF="../../om/stdquestion/QComponent.html#PROPERTYRESTRICTION_ID">PROPERTYRESTRICTION_ID</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#CanvasComponent()">CanvasComponent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#addLine(int, int, java.lang.String, java.lang.String)">addLine</A></B>(int&nbsp;iFromIndex,
        int&nbsp;iToIndex,
        java.lang.String&nbsp;sLabelJS,
        java.lang.String&nbsp;sWorld)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a line.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#addMarker(int, int, java.lang.String, java.lang.String)">addMarker</A></B>(int&nbsp;iX,
          int&nbsp;iY,
          java.lang.String&nbsp;sLabelJS,
          java.lang.String&nbsp;sWorld)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new marker at given co-ordinates.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#clear()">clear</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears the image to background colour or image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#defineProperties()">defineProperties</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intended for overriding.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#formAllValuesSet(om.question.ActionParams)">formAllValuesSet</A></B>(<A HREF="../../om/question/ActionParams.html" title="class in om.question">ActionParams</A>&nbsp;ap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On receiving this call, the component knows that if it hasn't received
 a formSetValue then its value was not submitted in the current form
 submission.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.awt.Color</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getColour(java.lang.String)">getColour</A></B>(java.lang.String&nbsp;sConstant)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will be called to resolve colours that do not begin with a #.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getFontFamily()">getFontFamily</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called to obtain default typeface.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getFontSize()">getFontSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called to obtain default font size.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.awt.Graphics2D</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getGraphics()">getGraphics</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtains a graphics context which you can use to draw on the image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.awt.image.BufferedImage</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getImage()">getImage</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtains the BufferedImage this canvas represents.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.awt.Point</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getMarkerPos(int)">getMarkerPos</A></B>(int&nbsp;iMarker)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtains position of the given marker.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getNumMarkers()">getNumMarkers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getRequiredAttributes()">getRequiredAttributes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intended for overriding.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getTagName()">getTagName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../om/graph/World.html" title="class in om.graph">World</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#getWorld(java.lang.String)">getWorld</A></B>(java.lang.String&nbsp;sID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#initChildren(org.w3c.dom.Element)">initChildren</A></B>(org.w3c.dom.Element&nbsp;eThis)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialises children based on the given XML element.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#markChanged()">markChanged</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marks the image as changed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#produceVisibleOutput(om.stdquestion.QContent, boolean, boolean)">produceVisibleOutput</A></B>(<A HREF="../../om/stdquestion/QContent.html" title="class in om.stdquestion">QContent</A>&nbsp;qc,
                     boolean&nbsp;bInit,
                     boolean&nbsp;bPlain)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Builds up content of this component that should end up in question output.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#removeLine(int, int)">removeLine</A></B>(int&nbsp;iFromIndex,
           int&nbsp;iToIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the line between specified markers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#removeMarker(int)">removeMarker</A></B>(int&nbsp;iIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes marker of given index.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#repaint()">repaint</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears the image and paints all the graph worlds.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#setString(java.lang.String, java.lang.String)">setString</A></B>(java.lang.String&nbsp;sName,
          java.lang.String&nbsp;sValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a given string property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../om/stdcomponent/CanvasComponent.html#useAlternates()">useAlternates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If true, alternate colours - where both a colour and a constant are
 given - will use the alternate constant rather than the colour.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_om.stdquestion.QComponent"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class om.stdquestion.<A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">QComponent</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../om/stdquestion/QComponent.html#addChild(om.stdquestion.QComponent)">addChild</A>, <A HREF="../../om/stdquestion/QComponent.html#addChild(java.lang.String)">addChild</A>, <A HREF="../../om/stdquestion/QComponent.html#convertCSS(java.lang.String)">convertCSS</A>, <A HREF="../../om/stdquestion/QComponent.html#convertHash(java.awt.Color)">convertHash</A>, <A HREF="../../om/stdquestion/QComponent.html#convertHash(java.lang.String)">convertHash</A>, <A HREF="../../om/stdquestion/QComponent.html#convertRGB(java.lang.String)">convertRGB</A>, <A HREF="../../om/stdquestion/QComponent.html#convertRGBOnly(java.lang.String)">convertRGBOnly</A>, <A HREF="../../om/stdquestion/QComponent.html#defineBoolean(java.lang.String)">defineBoolean</A>, <A HREF="../../om/stdquestion/QComponent.html#defineDouble(java.lang.String)">defineDouble</A>, <A HREF="../../om/stdquestion/QComponent.html#defineInteger(java.lang.String)">defineInteger</A>, <A HREF="../../om/stdquestion/QComponent.html#defineProperty(java.lang.String, java.lang.Class, boolean, java.lang.String)">defineProperty</A>, <A HREF="../../om/stdquestion/QComponent.html#defineString(java.lang.String)">defineString</A>, <A HREF="../../om/stdquestion/QComponent.html#defineString(java.lang.String, java.lang.String)">defineString</A>, <A HREF="../../om/stdquestion/QComponent.html#findAncestor(java.lang.Class)">findAncestor</A>, <A HREF="../../om/stdquestion/QComponent.html#formCallAction(java.lang.String, om.question.ActionParams)">formCallAction</A>, <A HREF="../../om/stdquestion/QComponent.html#formSetValue(java.lang.String, om.question.ActionParams)">formSetValue</A>, <A HREF="../../om/stdquestion/QComponent.html#getAncestors()">getAncestors</A>, <A HREF="../../om/stdquestion/QComponent.html#getApproximatePixelSize()">getApproximatePixelSize</A>, <A HREF="../../om/stdquestion/QComponent.html#getBackground()">getBackground</A>, <A HREF="../../om/stdquestion/QComponent.html#getBoolean(java.lang.String)">getBoolean</A>, <A HREF="../../om/stdquestion/QComponent.html#getChildBackground(om.stdquestion.QComponent)">getChildBackground</A>, <A HREF="../../om/stdquestion/QComponent.html#getChildren()">getChildren</A>, <A HREF="../../om/stdquestion/QComponent.html#getClassResource(java.lang.String)">getClassResource</A>, <A HREF="../../om/stdquestion/QComponent.html#getComponentChildren()">getComponentChildren</A>, <A HREF="../../om/stdquestion/QComponent.html#getCSS(boolean)">getCSS</A>, <A HREF="../../om/stdquestion/QComponent.html#getDouble(java.lang.String)">getDouble</A>, <A HREF="../../om/stdquestion/QComponent.html#getID()">getID</A>, <A HREF="../../om/stdquestion/QComponent.html#getInteger(java.lang.String)">getInteger</A>, <A HREF="../../om/stdquestion/QComponent.html#getJS(boolean)">getJS</A>, <A HREF="../../om/stdquestion/QComponent.html#getParent()">getParent</A>, <A HREF="../../om/stdquestion/QComponent.html#getQDocument()">getQDocument</A>, <A HREF="../../om/stdquestion/QComponent.html#getQuestion()">getQuestion</A>, <A HREF="../../om/stdquestion/QComponent.html#getString(java.lang.String)">getString</A>, <A HREF="../../om/stdquestion/QComponent.html#hasUserSetID()">hasUserSetID</A>, <A HREF="../../om/stdquestion/QComponent.html#init(om.stdquestion.QComponent, om.stdquestion.QDocument, org.w3c.dom.Element, boolean)">init</A>, <A HREF="../../om/stdquestion/QComponent.html#initAsText(org.w3c.dom.Element)">initAsText</A>, <A HREF="../../om/stdquestion/QComponent.html#initSpecific(org.w3c.dom.Element)">initSpecific</A>, <A HREF="../../om/stdquestion/QComponent.html#interColour(double)">interColour</A>, <A HREF="../../om/stdquestion/QComponent.html#isChildDisplayed()">isChildDisplayed</A>, <A HREF="../../om/stdquestion/QComponent.html#isDisplayed()">isDisplayed</A>, <A HREF="../../om/stdquestion/QComponent.html#isEnabled()">isEnabled</A>, <A HREF="../../om/stdquestion/QComponent.html#isPropertyDefined(java.lang.String)">isPropertyDefined</A>, <A HREF="../../om/stdquestion/QComponent.html#isPropertySet(java.lang.String)">isPropertySet</A>, <A HREF="../../om/stdquestion/QComponent.html#produceChildOutput(om.stdquestion.QContent, boolean, boolean)">produceChildOutput</A>, <A HREF="../../om/stdquestion/QComponent.html#produceOutput(om.stdquestion.QContent, boolean, boolean)">produceOutput</A>, <A HREF="../../om/stdquestion/QComponent.html#removeChild(om.stdquestion.QComponent)">removeChild</A>, <A HREF="../../om/stdquestion/QComponent.html#removeChildren()">removeChildren</A>, <A HREF="../../om/stdquestion/QComponent.html#setBoolean(java.lang.String, boolean)">setBoolean</A>, <A HREF="../../om/stdquestion/QComponent.html#setDisplay(boolean)">setDisplay</A>, <A HREF="../../om/stdquestion/QComponent.html#setDisplayOnComponentsWithId(boolean, java.lang.String)">setDisplayOnComponentsWithId</A>, <A HREF="../../om/stdquestion/QComponent.html#setDouble(java.lang.String, double)">setDouble</A>, <A HREF="../../om/stdquestion/QComponent.html#setEnabled(boolean)">setEnabled</A>, <A HREF="../../om/stdquestion/QComponent.html#setInteger(java.lang.String, int)">setInteger</A>, <A HREF="../../om/stdquestion/QComponent.html#setPropertiesFrom(org.w3c.dom.Element)">setPropertiesFrom</A>, <A HREF="../../om/stdquestion/QComponent.html#shouldFillParent()">shouldFillParent</A>, <A HREF="../../om/stdquestion/QComponent.html#trim(java.lang.String, int)">trim</A>, <A HREF="../../om/stdquestion/QComponent.html#wantsFilledChildren()">wantsFilledChildren</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CanvasComponent()"><!-- --></A><H3>
CanvasComponent</H3>
<PRE>
public <B>CanvasComponent</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getTagName()"><!-- --></A><H3>
getTagName</H3>
<PRE>
public static java.lang.String <B>getTagName</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Tag name (introspected; this may be replaced by a 1.5 annotation)</DL>
</DD>
</DL>
<HR>

<A NAME="getRequiredAttributes()"><!-- --></A><H3>
getRequiredAttributes</H3>
<PRE>
protected java.lang.String[] <B>getRequiredAttributes</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../om/stdquestion/QComponent.html#getRequiredAttributes()">QComponent</A></CODE></B></DD>
<DD>Intended for overriding. Default returns empty array.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../om/stdquestion/QComponent.html#getRequiredAttributes()">getRequiredAttributes</A></CODE> in class <CODE><A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">QComponent</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>List of required attribute names; applied by setPropertiesFrom()</DL>
</DD>
</DL>
<HR>

<A NAME="defineProperties()"><!-- --></A><H3>
defineProperties</H3>
<PRE>
protected void <B>defineProperties</B>()
                         throws <A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../om/stdquestion/QComponent.html#defineProperties()">QComponent</A></CODE></B></DD>
<DD>Intended for overriding. Default allows 'id' and 'display', so do remember
 to call superclass if you override or you won't get these.
 <p>
 Basically call defineProperty a bunch of times to set up all your
 properties. If you wish to set initial property values you can do that
 here too.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../om/stdquestion/QComponent.html#defineProperties()">defineProperties</A></CODE> in class <CODE><A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">QComponent</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initChildren(org.w3c.dom.Element)"><!-- --></A><H3>
initChildren</H3>
<PRE>
protected void <B>initChildren</B>(org.w3c.dom.Element&nbsp;eThis)
                     throws <A HREF="../../om/OmException.html" title="class in om">OmException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../om/stdquestion/QComponent.html#initChildren(org.w3c.dom.Element)">QComponent</A></CODE></B></DD>
<DD>Initialises children based on the given XML element.
 <p>
 This default implementation treats all child elements
 as components. If you want to include text as well or treat elements
 differently (if they have a specific meaning for your components) you need
 to override this method. QDocument.buildInside() and similar will be
 useful; or you may wish to call initAsText.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../om/stdquestion/QComponent.html#initChildren(org.w3c.dom.Element)">initChildren</A></CODE> in class <CODE><A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">QComponent</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>eThis</CODE> - XML element representing this component
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../om/OmException.html" title="class in om">OmException</A></CODE> - If there's an error initialising the children</DL>
</DD>
</DL>
<HR>

<A NAME="getGraphics()"><!-- --></A><H3>
getGraphics</H3>
<PRE>
public java.awt.Graphics2D <B>getGraphics</B>()</PRE>
<DL>
<DD>Obtains a graphics context which you can use to draw on the image. Please
 note:
 <ul>
 <li> Image is initially filled with background colour. This may change
   depending on which box the component is placed in, and the accessibility
   fixed-colour option.</li>
 <li> After drawing on the image, you must call markChanged().</li>
 <li> Draw using co-ordinates based on the requested pixel size: if zoom is
   necessary, this will have been automatically added to the context.</li>
 <li> The context is shared, so if you set it to red it will stay red next
   time (i.e. make sure to set colour properly).</li>
 <li> Remember to support the accessibility colour-fixing features. These
   require that you draw in appropriate colours. Use convertRGB() to
   access standard colour constants such as 'text' and getBackground() to
   determine the background colour in force at present.</li>
 <li> Unless you have set requirebg='yes', the background image will not be
   loaded when the question is in fixed-colour mode.</li>
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Graphics context</DL>
</DD>
</DL>
<HR>

<A NAME="getImage()"><!-- --></A><H3>
getImage</H3>
<PRE>
public java.awt.image.BufferedImage <B>getImage</B>()</PRE>
<DL>
<DD>Obtains the BufferedImage this canvas represents. You should avoid this
 method and use getGraphics() where possible. If you use this method, you
 are responsible for rescaling the image (if zoom is on). Also see the
 warnings in getGraphics().
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The BufferedImage</DL>
</DD>
</DL>
<HR>

<A NAME="clear()"><!-- --></A><H3>
clear</H3>
<PRE>
public void <B>clear</B>()
           throws <A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></PRE>
<DL>
<DD>Clears the image to background colour or image. Also marks changed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></CODE> - If can't load the image</DL>
</DD>
</DL>
<HR>

<A NAME="repaint()"><!-- --></A><H3>
repaint</H3>
<PRE>
public void <B>repaint</B>()
             throws <A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></PRE>
<DL>
<DD>Clears the image and paints all the graph worlds. Also marks changed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></CODE> - If can't load the background image</DL>
</DD>
</DL>
<HR>

<A NAME="getWorld(java.lang.String)"><!-- --></A><H3>
getWorld</H3>
<PRE>
public <A HREF="../../om/graph/World.html" title="class in om.graph">World</A> <B>getWorld</B>(java.lang.String&nbsp;sID)
               throws <A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sID</CODE> - ID of desired <world>
<DT><B>Returns:</B><DD>Specified World object
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></CODE> - If there isn't a world with that ID</DL>
</DD>
</DL>
<HR>

<A NAME="getMarkerPos(int)"><!-- --></A><H3>
getMarkerPos</H3>
<PRE>
public java.awt.Point <B>getMarkerPos</B>(int&nbsp;iMarker)
                            throws <A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></PRE>
<DL>
<DD>Obtains position of the given marker.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iMarker</CODE> - Marker index, beginning at zero
<DT><B>Returns:</B><DD>Marker position
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></CODE> - If you specified invalid index</DL>
</DD>
</DL>
<HR>

<A NAME="getNumMarkers()"><!-- --></A><H3>
getNumMarkers</H3>
<PRE>
public int <B>getNumMarkers</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Number of markers</DL>
</DD>
</DL>
<HR>

<A NAME="addMarker(int, int, java.lang.String, java.lang.String)"><!-- --></A><H3>
addMarker</H3>
<PRE>
public void <B>addMarker</B>(int&nbsp;iX,
                      int&nbsp;iY,
                      java.lang.String&nbsp;sLabelJS,
                      java.lang.String&nbsp;sWorld)</PRE>
<DL>
<DD>Adds a new marker at given co-ordinates.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iX</CODE> - X pixel co-ordinate<DD><CODE>iY</CODE> - Y pixel co-ordinate<DD><CODE>sLabelJS</CODE> - JavaScript label (may be null)<DD><CODE>sWorld</CODE> - World ID for converting co-ordinates in JS expression (may be null)</DL>
</DD>
</DL>
<HR>

<A NAME="removeMarker(int)"><!-- --></A><H3>
removeMarker</H3>
<PRE>
public void <B>removeMarker</B>(int&nbsp;iIndex)</PRE>
<DL>
<DD>Removes marker of given index. Be careful - removing this means all other
 markers above this change their index, so it might do weird things to lines
 (e.g. a line moves).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iIndex</CODE> - Index of marker to remove (beginning at 0)</DL>
</DD>
</DL>
<HR>

<A NAME="addLine(int, int, java.lang.String, java.lang.String)"><!-- --></A><H3>
addLine</H3>
<PRE>
public void <B>addLine</B>(int&nbsp;iFromIndex,
                    int&nbsp;iToIndex,
                    java.lang.String&nbsp;sLabelJS,
                    java.lang.String&nbsp;sWorld)</PRE>
<DL>
<DD>Adds a line.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iFromIndex</CODE> - Index (0-based) of one marker<DD><CODE>iToIndex</CODE> - Index (0-based) of other marker<DD><CODE>sLabelJS</CODE> - JavaScript label (may be null)<DD><CODE>sWorld</CODE> - World ID for converting co-ordinates in JS expression (may be null)</DL>
</DD>
</DL>
<HR>

<A NAME="removeLine(int, int)"><!-- --></A><H3>
removeLine</H3>
<PRE>
public boolean <B>removeLine</B>(int&nbsp;iFromIndex,
                          int&nbsp;iToIndex)</PRE>
<DL>
<DD>Removes the line between specified markers. Does nothing if there is
 no such line.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iFromIndex</CODE> - Index (0-based) of one marker<DD><CODE>iToIndex</CODE> - Index (0-based) of other marker
<DT><B>Returns:</B><DD>True if something was deleted, false if we didn't find one</DL>
</DD>
</DL>
<HR>

<A NAME="markChanged()"><!-- --></A><H3>
markChanged</H3>
<PRE>
public void <B>markChanged</B>()</PRE>
<DL>
<DD>Marks the image as changed. After this is called, a new version of the
 image will be sent next time. (If you don't call this, it won't. So if
 your image doesn't change, that's why.) Calling this multiple times
 doesn't hurt.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="produceVisibleOutput(om.stdquestion.QContent, boolean, boolean)"><!-- --></A><H3>
produceVisibleOutput</H3>
<PRE>
protected void <B>produceVisibleOutput</B>(<A HREF="../../om/stdquestion/QContent.html" title="class in om.stdquestion">QContent</A>&nbsp;qc,
                                    boolean&nbsp;bInit,
                                    boolean&nbsp;bPlain)
                             throws <A HREF="../../om/OmException.html" title="class in om">OmException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../om/stdquestion/QComponent.html#produceVisibleOutput(om.stdquestion.QContent, boolean, boolean)">QComponent</A></CODE></B></DD>
<DD>Builds up content of this component that should end up in question output.
 Only called if the 'display' property is set to true.
 <p>
 Default implementation just calls produceChildOutput().
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../om/stdquestion/QComponent.html#produceVisibleOutput(om.stdquestion.QContent, boolean, boolean)">produceVisibleOutput</A></CODE> in class <CODE><A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">QComponent</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>qc</CODE> - Output variable that accepts question content<DD><CODE>bInit</CODE> - True if this is first call in question initialisation
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../om/OmException.html" title="class in om">OmException</A></CODE> - If whatever error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="formAllValuesSet(om.question.ActionParams)"><!-- --></A><H3>
formAllValuesSet</H3>
<PRE>
protected void <B>formAllValuesSet</B>(<A HREF="../../om/question/ActionParams.html" title="class in om.question">ActionParams</A>&nbsp;ap)
                         throws <A HREF="../../om/OmException.html" title="class in om">OmException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../om/stdquestion/QComponent.html#formAllValuesSet(om.question.ActionParams)">QComponent</A></CODE></B></DD>
<DD>On receiving this call, the component knows that if it hasn't received
 a formSetValue then its value was not submitted in the current form
 submission.
 <p>
 All components receive this call after each form submit. The default
 implementation does nothing.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../om/stdquestion/QComponent.html#formAllValuesSet(om.question.ActionParams)">formAllValuesSet</A></CODE> in class <CODE><A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">QComponent</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ap</CODE> - All form parameters
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../om/OmException.html" title="class in om">OmException</A></CODE> - If overriders need to</DL>
</DD>
</DL>
<HR>

<A NAME="getColour(java.lang.String)"><!-- --></A><H3>
getColour</H3>
<PRE>
public java.awt.Color <B>getColour</B>(java.lang.String&nbsp;sConstant)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../om/graph/World.Context.html#getColour(java.lang.String)">World.Context</A></CODE></B></DD>
<DD>Will be called to resolve colours that do not begin with a #.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../om/graph/World.Context.html#getColour(java.lang.String)">getColour</A></CODE> in interface <CODE><A HREF="../../om/graph/World.Context.html" title="interface in om.graph">World.Context</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sConstant</CODE> - Colour constant
<DT><B>Returns:</B><DD>Colour ID or null if it doesn't exist</DL>
</DD>
</DL>
<HR>

<A NAME="useAlternates()"><!-- --></A><H3>
useAlternates</H3>
<PRE>
public boolean <B>useAlternates</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../om/graph/World.Context.html#useAlternates()">World.Context</A></CODE></B></DD>
<DD>If true, alternate colours - where both a colour and a constant are
 given - will use the alternate constant rather than the colour.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../om/graph/World.Context.html#useAlternates()">useAlternates</A></CODE> in interface <CODE><A HREF="../../om/graph/World.Context.html" title="interface in om.graph">World.Context</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>True to use alternate colours</DL>
</DD>
</DL>
<HR>

<A NAME="getFontFamily()"><!-- --></A><H3>
getFontFamily</H3>
<PRE>
public java.lang.String <B>getFontFamily</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../om/graph/World.Context.html#getFontFamily()">World.Context</A></CODE></B></DD>
<DD>Called to obtain default typeface.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../om/graph/World.Context.html#getFontFamily()">getFontFamily</A></CODE> in interface <CODE><A HREF="../../om/graph/World.Context.html" title="interface in om.graph">World.Context</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Default font family name</DL>
</DD>
</DL>
<HR>

<A NAME="getFontSize()"><!-- --></A><H3>
getFontSize</H3>
<PRE>
public int <B>getFontSize</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../om/graph/World.Context.html#getFontSize()">World.Context</A></CODE></B></DD>
<DD>Called to obtain default font size.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../om/graph/World.Context.html#getFontSize()">getFontSize</A></CODE> in interface <CODE><A HREF="../../om/graph/World.Context.html" title="interface in om.graph">World.Context</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Default font size</DL>
</DD>
</DL>
<HR>

<A NAME="setString(java.lang.String, java.lang.String)"><!-- --></A><H3>
setString</H3>
<PRE>
public java.lang.String <B>setString</B>(java.lang.String&nbsp;sName,
                                  java.lang.String&nbsp;sValue)
                           throws <A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../om/stdquestion/QComponent.html#setString(java.lang.String, java.lang.String)">QComponent</A></CODE></B></DD>
<DD>Sets a given string property.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../om/stdquestion/QComponent.html#setString(java.lang.String, java.lang.String)">setString</A></CODE> in class <CODE><A HREF="../../om/stdquestion/QComponent.html" title="class in om.stdquestion">QComponent</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sName</CODE> - Property name<DD><CODE>sValue</CODE> - New value
<DT><B>Returns:</B><DD>Previous value (null if none)
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../om/OmDeveloperException.html" title="class in om">OmDeveloperException</A></CODE> - If the property wasn't defined etc.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../om/stdcomponent/ButtonComponent.html" title="class in om.stdcomponent"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../om/stdcomponent/CentreComponent.html" title="class in om.stdcomponent"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?om/stdcomponent/CanvasComponent.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CanvasComponent.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_om.stdquestion.QComponent">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
